{
    "\u0001System data : excluded URLs & Script template\u0001": {
        "regPattForURL": "/^http:\\/\\/www\\.pro\\.or\\.jp\\/~fuji\\/mybooks\\/cdiag\\//\n/^http:\\/\\/redis\\.shibu\\.jp\\//\n/^http:\\/\\/192\\.168\\./\n/^http:\\/\\/mental\\-support\\.org\\//\n/^http:\\/\\/www\\.furanskin\\.net\\//\n/^http:\\/\\/otakomu\\.jp\\//\n/^http:\\/\\/blog\\.esuteru\\.com\\//\n/^file:\\/\\/\\//\n/^https:\\/\\/bitbucket.org\\//\n/^chrome.+$/\n/^.+(docs|translate|calendar|news)\\.google.+$/\n/^.+github.+$/\n//^.+amazon.+$/",
        "script": "// The part enclosed in ** is replaced.\n(window.onload=function(){\n//(function(){\nwasExecuted = true;\nfunction onScroll() {\n  document.addEventListener('scroll',  function() {\n    const scrollHeight = Math.max(\n      document.body.scrollHeight, document.documentElement.scrollHeight,\n      document.body.offsetHeight, document.documentElement.offsetHeight,\n      document.body.clientHeight, document.documentElement.clientHeight\n    );\n    let scrollTop =\n      document.documentElement.scrollTop || // IE、Firefox、Opera\n      document.body.scrollTop;              // Chrome、Safari\n      console.log(parseInt(scrollHeight - window.innerHeight - scrollTop));\n    if (parseInt(scrollHeight - window.innerHeight - scrollTop) < 10) {\n      scriptAtBottom();\n    };\n  });\n}\n\nfunction dispPosition() {\n  let a=document.createElement(\"div\");\n  a.style.cssText=\"position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);background:silver;padding:10px;text-align:center;z-index:19999;\";\n  a.onclick=function(){\n    document.body.removeEventListener(\"mousemove\", dispPosition);\n    a.parentNode.removeChild(a);\n  };\n  a.style.fontSize = '12px';\n  x=document.createElement(\"input\");\n  x.type=\"text\";\n  x.size=\"3\"\n  x.id=\"xxx\";\n  y=document.createElement(\"input\");\n  y.type=\"text\";\n  y.size=\"3\"\n  y.id=\"yyy\";\n  a.appendChild(x);\n  a.appendChild(y);\n  document.body.appendChild(a);\n\n  document.body.addEventListener(\"mousemove\", dispPosition);\n  function dispPosition(e){\n    document.getElementById(\"xxx\").value = `x : ${e.clientX}`;\n    document.getElementById(\"yyy\").value = `y : ${e.clientY}`;\n  };\n\n}\n\nfunction floatBox_to(text) {\n\n  var mbox=document.createElement(\"div\");\n  mbox.style.cssText=\"position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:10px;text-align:center;z-index:19999;\";\n  mbox.style.opacity = '0.8';\n  mbox.style.background = 'silver';\n  mbox.style.border = '1px solid #aaa';\n  mbox.style.fontSize = '20px';\n  text.split(/\\r\\n|\\r|\\n/).forEach(element => {\n    mbox.appendChild(document.createTextNode(element));\n    mbox.appendChild(document.createElement('br'));\n    mbox.appendChild(document.createElement('br'));\n  });\n  document.body.appendChild(mbox);\n\n  /* setTimeout(closenode, 1500);\n    function closenode(){mbox.parentNode.removeChild(mbox);}*/\n\n  setTimeout(() =>{mbox.parentNode.removeChild(mbox);}, 1000);\n\n}\n\nfunction curclepoint(x, y) {\n  //x-=10;y-=10;\n  let cp=document.createElement(\"div\");\n  cp.style.cssText=\"position:fixed;top:${y}px;left:${x}px;width:20px;height:20px;border-radius:50%;background-color:#f00;\";\n  document.body.appendChild(cp);\n  setTimeout(() =>{cp.parentNode.removeChild(cp);}, 2000)\n}\n\nconst regPattForURL = **regular expression pattern for url matching**;\nconsole.log(location.href.match(regPattForURL));\nconst matchedPartInURL = location.href.match(regPattForURL)[0];\n**script**\n//floatBox_to(\"**name**\");\n})();"
    },
    "'javascript sample'": {
        "regPattForURL": "",
        "script": "//location.href処理\nconst urlArray = location.href.split('/');\nlet lastUrl = urlArray.slice(-1)[0];\n\n\n//cookie処理\nconst cookieArray = document.cookie.split(';');\nif (cookieArray.filter((element) => element.startsWith(`key1=`)).length = 0) {\n  document.cookie = `key1=` + lastUrl;\n} else {\n\n}\n\n\n//最後の要素を削除する\nconst parentPage = location.href.split(`/`).slice(0,-1).join(`/`);\nconsole.log(decodeURI(parentPage));*/\n\n\n// リンクがクリックされたときの処理の追加\nlet nextLink = Array.prototype.slice.call(document.links)\n  .filter(e => 'textContent' in e )\n  .filter(e => e.textContent == `next`)[0]\nnextLink.addEventListener(\"click\", e => {\n    // リンクがクリックされたときの処理\n    e.preventDefault();  // 画面遷移を無効化\n}, false);"
    },
    "2021/4/19 20:02:03": {
        "regPattForURL": "//^https:\\/\\/renta\\.papy\\.co\\.jp\\//",
        "script": "var fullscreen = function(){\n  document.dispatchEvent( new KeyboardEvent( \"keydown\", { key: \"f\", ctrlKey: true }));\n  document.dispatchEvent( new KeyboardEvent( \"keyup\", { key: \"f\", ctrlKey: true }));\n  //document.dispatchEvent( new KeyboardEvent( \"keyup\", { keycode: 122 }));\n}\nsetTimeout(fullscreen, 1000);"
    },
    "2021/7/23 16:11:19": {
        "regPattForURL": "/^https:\\/\\/novema\\.jp\\/comic\\-grast\\/serial\\//",
        "script": "document.body.addEventListener('keydown', event => {\n  if (!document.FullscreenElement) {document.documentElement.webkitRequestFullScreen();}\n  console.log(event.key);\n  if (event.key == 'ArrowLeft') {document.elementFromPoint(100, 600).click();}\n  if (event.key == 'ArrowRight') {document.elementFromPoint(1880, 600).click();}\n\n});"
    },
    "Alert http Site": {
        "regPattForURL": "/^http:\\/\\//",
        "script": "alert(\"http site\");"
    },
    "ClickByPushedKey.js": {
        "regPattForURL": "This bookmarklet can acquire the mouse position secondarily.",
        "script": "javascript:(function(){\n\n  var obj = {setting : true};\n\n  document.body.addEventListener('keydown', event => {\n    console.log(obj.setting);\n    if (obj.setting) {\n      if (event.key == 'Escape') {\n        obj.setting = false;\n        alert(objList());\n      } else {\n        var clientX = parseInt(sessionStorage.getItem('clientX'));\n        var clientY = parseInt(sessionStorage.getItem('clientY'));\n        targetElement = document.elementFromPoint(clientX, clientY);\n        obj[event.key] = targetElement;\n        alert(\"setting key[  \" + event.key + ' , ' + clientX + ' , ' + clientY + ' ] :\n ' + targetElement);\n      }\n    } else {\n      var targetElement = obj[event.key];\n      if (typeof targetElement != \"undefined\") {\n        targetElement.click();\n      }\n    }\n  });\n\n  document.body.addEventListener(\"mousemove\", function(e){\n    if (obj.setting) {\n      sessionStorage.setItem('clientX', e.clientX);\n      sessionStorage.setItem('clientY', e.clientY);\n    }\n  });\n\n  function objList() {\n    let ret = \"Setting Finished\";\n    for(let key in obj){\n      ret += (key == 'setting') ? '' : '\n\n key[  ' + key + '  ] :\n ' + obj[key];\n    }\n    return ret;\n  }\n\n})();\n\n  // sessionStorage.setItem('key', '');\n\n  // document.body.addEventListener('keydown', event => {\n  //   var key = sessionStorage.getItem('key');\n  //   if (!key) {\n  //     sessionStorage.setItem('key', event.key);\n  //     console.log(event.key);\n  //   } else if (event.key == key) {\n  //     var clientX = parseInt(sessionStorage.getItem('clientX'));\n  //     var clientY = parseInt(sessionStorage.getItem('clientY'));\n  //     targetElement = document.elementFromPoint(clientX, clientY);\n  //     console.log(event.key, targetElement);\n  //     targetElement.click();\n  //   }\n\n  // });\n\n  // document.body.addEventListener(\"mousemove\", function(e){\n  //   if (!obj.Escape) {\n  //     sessionStorage.setItem('clientX', e.clientX);\n  //     sessionStorage.setItem('clientY', e.clientY);\n  //   }\n  // });"
    },
    "DMM books 120title": {
        "regPattForURL": "/^https:\\/\\/book\\.dmm\\.com\\/bookmark\\//",
        "script": "if (!location.href.match(/limit=120/)) {\n  location.href = 'https://book.dmm.com/bookmark/?limit=120&view=table&page=1';\n}"
    },
    "DMM comic rental basket": {
        "regPattForURL": "/^https:\\/\\/www\\.dmm\\.com\\/rental\\/comic\\/\\-\\/basket\\//",
        "script": "const al = document.getElementsByClassName(`area-lead lead-wrapper`);\nconst bs = document.getElementsByClassName(`box-sort`);\nif (bs.length == 2) {\n  al[0].appendChild(bs[0].cloneNode(true));\n}"
    },
    "DMM 購入済みの本一覧": {
        "regPattForURL": "/^https:\\/\\/book\\.dmm\\.com\\/library\\/.*expired=0.*/",
        "script": "if (!location.href.match(/(sort=short|item_id=)/)) {\n  location.href = 'https://book.dmm.com/library/?age_limit=all&expired=0&sort=short';\n}"
    },
    "Gmail 今すぐメール受信": {
        "regPattForURL": "/^https:\\/\\/mail\\.google\\.com\\/mail\\/u\\/0\\/#settings\\/accounts/",
        "script": "var MailCheck = function(){\n  Array.from(document.getElementsByTagName('span')).filter((s) => {return s.textContent === `他のアカウントのメールを確認:`;}).forEach(element => element.scrollIntoView());\n  Array.from(document.getElementsByTagName('span')).filter((s) => {return s.textContent === `メールを今すぐ確認する`;}).forEach(element => element.click());\n}\nsetTimeout(MailCheck, 5000);"
    },
    "Let's go to another route": {
        "regPattForURL": "/^https:\\/\\/www\\.amazon\\.co\\.jp\\/.+\\/buy\\//\n/^https:\\/\\/www\\.bookoffonline\\.co\\.jp\\/disp\\/CCtViewCart/\n/^https:\\/\\/basket\\.step\\.rakuten\\.co\\.jp\\/rms\\/mall\\/bs\\/cartall\\//",
        "script": "var ab = function(){\n  var att=document.createElement(\"div\");\n  att.style.cssText=\"visibility:visible;position:fixed;top:0px;left:0px;min-height: 100vh;width:100%;padding:4px;background:coral;z-index:19999;display:flex;flex-direction:column;justify-content:center;align-items:center;\";\n  att.innerHTML=`Let's go to another route`;\n  att.style.fontSize = '40px';\n  document.body.appendChild(att);\n  setTimeout(closenode, 1000);\n  function closenode(){att.parentNode.removeChild(att);}\n}\nsetTimeout(ab, 1000);"
    },
    "Open in new tab": {
        "regPattForURL": "//^https:\\/\\/(www|news)\\.google\\.com\\/search\\?.+$/\n//^https:\\/\\/www\\.rakugakidou\\.net\\/.*$/\n//^https:\\/\\/www\\.karzusp\\.net\\/archives\\//",
        "script": "const dlinks = document.links;\nfor (var i = dlinks.length-1; i >= 0; i--){\n  var dlink = dlinks[i];\n  var dlinkTarget = dlink.target;\n  //console.log(\"dlink.target : \" + dlink.target);\n  if (dlinkTarget != \"_blank\") {\n    dlink.target = \"_blank\";\n    dlink.rel = \"noopener noreferrer\";\n  }\n}"
    },
    "Open the link for the next article on カクヨム": {
        "regPattForURL": "/^https:\\/\\/kakuyomu.jp\\/works\\/\\d+\\/episodes\\//",
        "script": "const id = 'contentMain-readNextEpisode';\nvar nextArticle = '';\nlet targetElement = document.getElementById(id);\nif (targetElement == null) {return;}\nif ((targetElement.hasAttribute('href')) && (targetElement.href.match(regPattForURL)[0] == matchedPartInURL)) {\n  nextArticle = targetElement.href;\n  onScroll();\n}\n\nfunction scriptAtBottom() {\n  window.addEventListener(\"keydown\", event => {\n    if (event.key == ' ') {location.href = nextArticle;};\n  });\n}"
    },
    "Pause Video at YouTube Channnel Home": {
        "regPattForURL": "/\\^https:\\\\/\\\\/www\\\\.youtube\\\\.com\\\\/c\\\\/\\//\n/^https:\\/\\/www\\.youtube\\.com\\/channel\\//",
        "script": "var ab = function(){\n  document.querySelector(\"video[src]\").pause();\n}\nsetTimeout(ab, 300);\nsetTimeout(ab, 500);\nsetTimeout(ab, 700);"
    },
    "Push '→,←' Open starting with /^(次|>|＞|next|→)/, /^(前|<|＜|prev|←)/": {
        "regPattForURL": "/^https:\\/\\/ncode\\.syosetu\\.com\\/n\\d{4}[a-z]{2}\\/\\d+/\n/^https:\\/\\/toyokeizai\\.net\\/articles\\/\\-\\/\\d+/\n//^https:\\/\\/book.dmm.com\\/library\\//",
        "script": "let rightlink = Array.prototype.slice.call(document.links)\n  .filter(element => {return ('textContent' in element );})\n  .filter(element => {return element.textContent.match(/^(次|>|＞|next|→)/);})\n  .filter(element => {return element.hasAttribute(\"href\");})\n  .filter(element => {return element.href.match(regPattForURL);})\n  [0].href;\n\nlet leftlink = Array.prototype.slice.call(document.links)\n  .filter(element => {return ('textContent' in element );})\n  .filter(element => {return element.textContent.match(/^(前|<|＜|prev|←)/);})\n  .filter(element => {return element.hasAttribute(\"href\");})\n  .filter(element => {return element.href.match(regPattForURL);})\n  [0].href;\n\nif ((rightlink) || (leftlink)) {\n\n  document.body.addEventListener('keydown', event => {\n    if ((rightlink) && (event.key == 'ArrowRight')) {\n      location.href = rightlink;\n    } else if ((leftlink) && (event.key == 'ArrowLeft')) {\n      location.href = leftlink;\n    }\n  });\n\n}"
    },
    "Via Apps": {
        "regPattForURL": "/^https:\\/\\/ebookstore\\.sony\\.jp\\/cart\\/incart/\n/^https:\\/\\/www\\.amazon\\.co\\.jp\\/.+\\/buy\\//\n/^https:\\/\\/basket\\.step\\.rakuten\\.co\\.jp\\/rms\\/mall\\/bs\\/cartall\\//",
        "script": "var ab = function(){\n  var att=document.createElement(\"div\");\n  att.style.cssText=\"visibility:visible;position:fixed;top:0px;left:0px;min-height: 100vh;width:100%;padding:4px;background:coral;z-index:19999;display:flex;flex-direction:column;justify-content:center;align-items:center;\";\n  att.innerHTML=`Let's go to another route`;\n  att.style.fontSize = '40px';\n  document.body.appendChild(att);\n  setTimeout(closenode, 1000);\n  function closenode(){att.parentNode.removeChild(att);}\n}\nsetTimeout(ab, 1000);"
    },
    "Via Hapitas": {
        "regPattForURL": "/^https:\\/\\/ebookjapan\\.yahoo\\.co\\.jp\\/cart\\/confirm\\//",
        "script": "var ab = function(){\n  var att=document.createElement(\"div\");\n  att.style.cssText=\"visibility:visible;position:fixed;top:0px;left:0px;min-height: 100vh;width:100%;padding:4px;background:gold;z-index:19999;display:flex;flex-direction:column;justify-content:center;align-items:center;\";\n  att.innerHTML=`ハピタス経由`;\n  att.style.fontSize = '80px';\n  document.body.appendChild(att);\n  setTimeout(closenode, 1000);\n  function closenode(){att.parentNode.removeChild(att);}\n}\nsetTimeout(ab, 1000);"
    },
    "Via Rebates": {
        "regPattForURL": "/^https:\\/\\/www\\.bookoffonline\\.co\\.jp\\/disp\\/CCtViewCart/\n/^https:\\/\\/basket\\.step\\.rakuten\\.co\\.jp\\/rms\\/mall\\/bs\\/cartall\\//",
        "script": "var ab = function(){\n  var att=document.createElement(\"div\");\n  att.style.cssText=\"visibility:visible;position:fixed;top:0px;left:0px;min-height: 100vh;width:100%;padding:4px;background:coral;z-index:19999;display:flex;flex-direction:column;justify-content:center;align-items:center;\";\n  att.innerHTML=`Let's go to another route`;\n  att.style.fontSize = '40px';\n  document.body.appendChild(att);\n  setTimeout(closenode, 1000);\n  function closenode(){att.parentNode.removeChild(att);}\n}\nsetTimeout(ab, 1000);"
    },
    "add 閲覧履歴 in なろう": {
        "regPattForURL": "/^https:\\/\\/syosetu\\.com\\/favnovelmain\\/list\\//",
        "script": "const writter_menu = document.getElementsByClassName(\"writter_menu\")[0];\nif (writter_menu.childElementCount == 6) {\n  writter_menu.lastElementChild.remove();\n  writter_menu.lastElementChild.remove();\n  writter_menu.lastElementChild.remove();\n  writter_menu.lastElementChild.remove();\n  writter_menu.lastElementChild.remove();\n  \n  const li = document.createElement('li');\n  const a = document.createElement('a');\n  a.appendChild(document.createTextNode(\"閲覧履歴\"));\n  a.href = \"https://yomou.syosetu.com/rireki/list/\";\n  a.style.color = \"red\";\n  li.appendChild(a);\n  writter_menu.appendChild(li);\n\n  const li2 = document.createElement('li');\n  const a2 = document.createElement('a');\n  a2.appendChild(document.createTextNode(\"読もう\"));\n  a2.href = \"https://yomou.syosetu.com/\";\n  a2.style.color = \"purple\";\n  li.appendChild(a2);\n  writter_menu.appendChild(li2);\n\n  const li3 = document.createElement('li');\n  const a3 = document.createElement('a');\n  a3.appendChild(document.createTextNode(\"xブックマーク\"));\n  a3.href = \"https://syosetu.com/favnovelmain18/list/\";\n  a3.style.color = \"pink\";\n  li.appendChild(a3);\n  writter_menu.appendChild(li3);\n\n}"
    },
    "alphapolis comic zoom": {
        "regPattForURL": "/^https:\\/\\/www\\.alphapolis\\.co\\.jp\\/manga\\/official\\/\\d{8,9}\\//",
        "script": "document.body.style.zoom='150%';"
    },
    "chromeブックマーク 背景色指定": {
        "regPattForURL": "/^chrome:\\/\\/bookmarks\\//",
        "script": ""
    },
    "comic-walker  Apply Arrow keys": {
        "regPattForURL": "//^https:\\/\\/comic\\-walker\\.com\\/viewer\\//",
        "script": "document.body.addEventListener('keydown', event => {\n  if (!document.FullscreenElement) {document.documentElement.webkitRequestFullScreen();}\n  console.log(document.getElementsByClass(\"btnNext\").children);\n  if (event.key == 'ArrowDown') {\n    document.getElementsByClassName(\"btnNext\").children[0].children[0].click();\n  } else if (event.key == 'ArrowUp') {\n    document.getElementsByClassName(\"btnBack\").children[0].children[0].click();\n  }\n\n});"
    },
    "comicNewtype Appry Arrow Keys(2)": {
        "regPattForURL": "//^https:\\/\\/comic\\.webnewtype\\.com\\/contents\\/.+\\/\\d+/",
        "script": "document.getElementsByClassName(\"lazy viewerFixedImage\")\n\nif (document.getElementById('att')) {return;}\n(function(){\n  console.log(`comicNewtype Appry Arrow Keys(2)`);\n  document.body.style.overflow = \"hidden\";\n  document.body.style.zoom='220%';\n  document.getElementsByClassName(\"ViewerHeader\")[0].style.display =\"none\";\n\n  // move to PageNavi(To complete loading the page image)\n  document.getElementsByClassName(\"ViewerNav\")[0].scrollIntoView();\n  setTimeout(fillscreen, 2000);\n})();\n\nlet ab = function(){\n\n  let pageWidth = 836;\n\n  let images = document.getElementsByClassName(\"lazy viewerFixedImage\");\n  let arr = [-1];\n  for (let n = 0; n < images.length; n++) {\n    if (images[n].style.maxWidth) {arr.push(-1);}\n    arr.push(n);\n  }\n\n  // let n = 0;\n  // let arr = [-1];\n  // let page = document.getElementById(head + n.toString());\n\n  // while ((page) || (document.getElementById(head + (n + 1).toString()))) {\n  //   if (page) {\n  //     page.scrollIntoView();\n  //     arr.push(n);\n  //     let pageStyle = page.children[0].style;\n  //     if (parseInt(pageStyle.height.replace(\"px\",\"\")) < parseInt(pageStyle.width.replace(\"px\",\"\"))) {\n  //       arr.splice(arr.length - 1, 0, -1);\n  //       if (arr.length % 2 == 1) {arr.shift();}\n  //     }\n  //   }\n  //   page = document.getElementById(head + (++n).toString());\n  // }\n  // if (arr.length % 2 == 1) {arr.push(-1);}\n  arr.unshift(-2); //set curPage\n  console.log(arr);\n\n  let att = document.createElement(\"div\");\n  att.id = \"att\";\n  att.style.cssText=\"visibility:visible;position:fixed;top:0px;left:0px;height:100%;width:100%;padding:4px;background:black;z-index:19998;\";\n  let text = document.createTextNode(arr.join(','));\n  att.appendChild(text);\n  document.body.appendChild(att);\n\n  let curPage = parseInt(arr[0]);\n  arr.shift();\n  viewSpreadPage(curPage, arr, true);\n\n\n  function viewSpreadPage (curPage, arr, vsb) {\n    let pageCenter = parseInt(window.innerWidth / (parseInt(document.body.style.zoom ? document.body.style.zoom : \"100\") / 100) / 2);\n    let cssText = `visibility:visible;position:fixed;top:0px;z-index:19999;`\n\n    let rightPage = pages(arr[curPage]);\n    if (rightPage) {\n        rightPage.scrollIntoView();\n        rightPage.style.cssText = `${cssText};left:${pageCenter}px;`;\n        rightPage.style.display = (vsb) ? \"\" :\"none\";\n    }\n\n    let leftPage = pages(arr[curPage + 1]);\n    if (leftPage) {\n        leftPage.scrollIntoView();\n        leftPage.style.cssText = `${cssText};left:${(pageCenter - pageWidth)}px;`;\n        leftPage.style.display = (vsb) ? \"\" :\"none\";\n    }\n\n    document.getElementById('att').style.display = ((rightPage) || (leftPage)) ? \"\" : \"none\"\n    document.getElementsByClassName(\"ViewerNav\")[0].scrollIntoView();\n\n  }\n\n\n  document.body.addEventListener('keydown', event => {\n    let arr = document.getElementById('att').textContent.split(',');\n    let curPage = parseInt(arr[0]);\n    arr.shift();\n    //console.log(\"curPage : \" + curPage);\n\n    let dir = (event.key == 'p') * 99 + (event.key == 'ArrowLeft') - (event.key == 'ArrowRight');\n    if (dir == 0) {return;}\n\n    if (!document.FullscreenElement) {document.documentElement.webkitRequestFullScreen();}\n\n    if ((arr[curPage + 1] == undefined) && (Math.sign(curPage) == dir)) {\n      let episode_dir = (dir == 1) ? 'ViewerNav-next' : 'ViewerNav-prev';\n      let next_prev = document.getElementsByClassName(episode_dir);\n      if  (next_prev != null) {\n        //window.open(next_prev[1].href, null, \"fullscreen=yes\")\n        //document.webkitExitFullscreen();\n        next_prev[0].click();\n      }\n      return;\n    }\n\n    viewSpreadPage(curPage, arr, false);\n\n    if (dir == 99) {\n      dir = 0;\n\n      if (parseInt(arr[0]) == -1) {\n        arr.shift();\n      } else {\n        arr.unshift(-1);\n      }\n\n      if (parseInt(arr.slice(-1)[0]) == -1) {\n        arr.pop();\n      } else {\n        arr.push(-1);\n      }\n    }\n\n    curPage += (dir * 2);\n    viewSpreadPage(curPage, arr, true);\n    console.log(\"curPosition : \" + curPage, );\n    console.log(\"Page : \" + arr[curPage + 1] + \" , \" + arr[curPage]);\n    arr.unshift(curPage);\n\n    document.getElementById('att').textContent = arr.join(',');\n\n  });\n\n}\nsetTimeout(ab, 2000);\nsetTimeout(fillscreen, 5000);\n\nfunction fillscreen() {\n    document.documentElement.webkitRequestFullScreen();\n}"
    },
    "comicbunch Appry Arrow Keys": {
        "regPattForURL": "/^https:\\/\\/www\\.comicbunch\\.com\\/manga\\/bunch\\/.+\\/view\\/\\d+\\//",
        "script": "var ab = function(){\n  if (document.getElementById('att')) {return;}\n\n  document.body.style.overflow = \"hidden\";\n  document.getElementsByClassName(\"footer_comics_ad push\")[0].hidden = true;\n  document.body.style.zoom=`92%`;\n\n  let head = \"cmc\";\n  let pageWidth = 640;\n  let n = 1;\n  let arr = [0, n];\n  let page = document.getElementById(head + ++n);\n  let isLeftPage = true;\n\n  do {\n    if (page) {\n      //page.scrollIntoView();\n      arr.push(n);\n    } else {\n      if (arr.length % 2 == 0) {\n        arr.shift();\n        isLeftPage = -isLeftPage;\n      }\n      arr.splice(arr.length - 1, 0, -1);\n    }\n    isLeftPage = -isLeftPage;\n    page = document.getElementById(head + ++n);\n    nextpage = document.getElementById(head + (n + 1));\n  } while ((nextpage) || (page))\n  if (isLeftPage) {arr.push(-1);}\n  arr.unshift(0);\n  console.log(arr);\n\n  /*let arrStr = arr.join(',');\n  console.log(arrStr);\n  ary = arrStr.split(',');\n  console.log(ary);*/\n\n  let att = document.createElement(\"div\");\n  att.id = \"att\";\n  att.style.cssText=\"visibility:visible;position:fixed;top:0px;left:0px;height:100%;width:100%;padding:4px;background:black;z-index:19998;\";\n  let text = document.createTextNode(arr.join(','));\n  att.appendChild(text);\n  document.body.appendChild(att);\n\n  let curPage = Number(arr[0]);\n  arr.shift();\n  viewSpreadPage(curPage, arr, true);\n\n\n  function viewSpreadPage (curPage, arr, vsb) {\n    if (!document.FullscreenElement) {document.documentElement.webkitRequestFullScreen();}\n    let pageCenter = parseInt(window.innerWidth / 2);\n\n    let rightPage = document.getElementById(head + arr[curPage]);\n    if (rightPage) {\n        rightPage.scrollIntoView();\n        rightPage.style.cssText = \"visibility:visible;position:fixed;top:0px;z-index:19999;left:\" + pageCenter +\"px;\";\n        rightPage.style.display = (vsb) ? \"\" :\"none\";\n    }\n\n    let leftPage = document.getElementById(head + arr[curPage + 1]);\n    if (leftPage) {\n        leftPage.scrollIntoView();\n        leftPage.style.cssText = \"visibility:visible;position:fixed;top:0px;z-index:19999;left:\" + (pageCenter - pageWidth) +\"px;\";\n        leftPage.style.display = (vsb) ? \"\" :\"none\";\n    }\n\n    document.getElementById('att').style.display = ((rightPage) || (leftPage)) ? \"\" : \"none\"\n    document.getElementById(\"footer\").scrollIntoView();\n\n  }\n\n\n  document.body.addEventListener('keydown', event => {\n    let arr = document.getElementById('att').textContent.split(',');\n    let curPage = Number(arr[0]);\n    arr.shift();\n    //console.log(\"curPage : \" + curPage);\n\n    let dir = (event.key == 'ArrowLeft') - (event.key == 'ArrowRight');\n    if (dir == 0) {return;}\n\n    if ((arr[curPage + 1] == undefined) && (Math.sign(curPage) == dir)) {\n      let episode_dir = (dir == 1) ? '次の話' : '前の話';\n      let next_prev = Array.prototype.slice.call(document.links)\n      .filter(element => {return ('textContent' in element );})\n      .filter(element => {return (element.textContent.indexOf(episode_dir) == 0);})\n      .filter(element => {return element.hasAttribute(\"href\");})\n      //.filter(element => {return element.href.match(regPattForURL);})\n      [0];\n      console.log(next_prev);\n      if  (next_prev != null) {\n        //window.open(next_prev[1].href, null, \"fullscreen=yes\")\n        //document.webkitExitFullscreen();\n        next_prev.click();\n      }\n      return;\n    }\n\n    viewSpreadPage(curPage, arr, false);\n    curPage += (dir * 2);\n    viewSpreadPage(curPage, arr, true);\n    console.log(\"curPage : \" + curPage, );\n    console.log(\"right : \" + arr[curPage]);\n    console.log(\"left : \" + arr[curPage + 1]);\n    arr.unshift(curPage)\n\n    document.getElementById('att').textContent = arr.join(',');\n\n  });\n\n}\nsetTimeout(ab, 500);\nsetTimeout(fillscreen, 3000);\n\nfunction fillscreen() {\n    document.documentElement.webkitRequestFullScreen();\n}"
    },
    "comics.gendaibusiness Apply Arrow keys": {
        "regPattForURL": "/^https:\\/\\/comics\\.gendaibusiness\\.com\\/viewer\\//",
        "script": "document.body.addEventListener('keydown', event => {\n\n  if (event.key == 'ArrowRight') {\n    console.log(\"next : \" + document.getElementsByClassName(\"next false css-j2s51w\")[0]);\n    document.getElementsByClassName(\"next false css-j2s51w\")[0].click();\n  } else if (event.key == 'ArrowLeft') {\n    console.log(\"prev : \" + document.getElementsByClassName(\"prev false css-j2s51w\")[0]);\n    document.getElementsByClassName(\"prev false css-j2s51w\")[0].click();\n\n  }\n\n});"
    },
    "full screen": {
        "regPattForURL": "/^https:\\/\\/manga\\-park\\.com\\/title\\//\n/^https:\\/\\/firecross\\.jp\\/reader\\//\n//^https:\\/\\/comic\\-days\\.com\\/episode\\//\n/^https:\\/\\/book\\.dmm\\.com\\/free_streaming\\//\n/^https:\\/\\/ebookjapan\\.yahoo\\.co\\.jp\\/viewer\\//\n/^https:\\/\\/gammaplus\\.takeshobo\\.co\\.jp\\/manga\\/.+\\/_files\\//\n/^https:\\/\\/www\\.ganganonline\\.com\\/title\\/.+\\/chapter\\//\n/^https:\\/\\/piccoma\\.com\\/web\\/viewer\\//\n/^https:\\/\\/ebookjapan\\.yahoo\\.co\\.jp\\/viewer\\/story\\//\n/^https:\\/\\/comic\\-meteor\\.jp\\/ptdata\\//\n/^http:\\/\\/www\\.comic\\-medu\\.com\\/st\\/.+\\/\\d+/\n/^https:\\/\\/novelup\\.plus\\/story\\/\\d{9}\\/\\d{9}/\n//^https:\\/\\/seiga.nicovideo.jp\\/watch\\//\n/^https:\\/\\/comic\\-fuz\\.com\\/viewer\\.html/\n/^https:\\/\\/gammaplus\\.takeshobo\\.co\\.jp\\/manga\\//\n/^https:\\/\\/book\\.dmm\\.com\\/streaming\\//\n/^https:\\/\\/manga\\.line\\.me\\/book\\/viewer\\?id=/\n/^https:\\/\\/tkj\\.jp\\/ebook\\/read\\/cd\\//\n/^http:\\/\\/webcomicgamma\\.takeshobo\\.co\\.jp\\/manga\\//\n//^https:\\/\\/web\\-ace\\.jp\\/youngaceup\\/contents\\/\\d{7}\\/episode\\//\n/^https:\\/\\/r\\.binb\\.jp\\/epm\\//\n/^https:\\/\\/comics\\.gendaibusiness\\.com\\/viewer\\//\n/^https:\\/\\/viewer\\.comic\\-earthstar\\.jp\\/viewer\\.html\\?cid=/\n/^https:\\/\\/www\\.comicride\\.jp\\/viewer\\//\n/^https:\\/\\/www\\.mangabox\\.me\\/reader\\/\\d{6}\\/episodes\\//\n/^http:\\/\\/leedcafe\\.com\\/webcomic\\//\n/^https:\\/\\/webcomicgamma\\.takeshobo\\.co\\.jp\\/manga\\//\n/^https:\\/\\/www\\.sunday\\-webry\\.com\\/viewer\\.php\\?chapter_id=\\d{5}/\n/^https:\\/\\/static\\.ichijinsha\\.co\\.jp\\/online\\/u\\/book\\/zerosum\\//\n/^https:\\/\\/pash\\-up\\.jp\\/viewer\\/viewer\\.html\\?cid\\=/\n/^https:\\/\\/comic\\-walker\\.com\\/viewer\\//\n/^http:\\/\\/gammaplus\\.takeshobo\\.co\\.jp\\/manga\\//\n/^https:\\/\\/www\\.alphapolis\\.co\\.jp\\/manga\\/official\\/\\d{8,9}\\//\n/^https:\\/\\/viewer\\.ganganonline\\.com\\/manga\\//\n/^https:\\/\\/ncode\\.syosetu\\.com\\/n\\d{4}[a-z]{2}\\/\\d+/\n/^https:\\/\\/kakuyomu\\.jp\\/works\\/\\d{19}\\/episodes\\/\\d{19}/\n/^https:\\/\\/www\\.mangabox\\.me\\/reader\\/\\d{5}\\/episodes\\/\\d{5}\\//\n/^https:\\/\\/comic\\.pixiv\\.net\\/viewer\\/stories\\//\n/^https:\\/\\/gaugau\\.futabanet\\.jp\\/common\\/dld\\/zip\\//",
        "script": "var fullscreen = function(){\nconsole.log(wasExecuted);\n  if (!document.FullscreenElement) {document.documentElement.webkitRequestFullScreen();}\n}\n\nsetTimeout(fullscreen, 3000);\n\nwindow.addEventListener(\"mousemove\", event => {\n  if (event.clientX < 70) {fullscreen;};\n});\n\nwindow.addEventListener(\"keydown\", event => {\n  if (event.key != ' ') {fullscreen;};\n});"
    },
    "full screen by elementFromPoint(790, 600).click()": {
        "regPattForURL": "/^https:\\/\\/tonarinoyj\\.jp\\/episode\\//\n/^https:\\/\\/magcomi\\.com\\/episode\\//\n/^https:\\/\\/comic\\-gardo\\.com\\/episode\\//",
        "script": "var fullscreen = function(){\n  curclepoint(790,600);\n  document.elementFromPoint(790, 600).click();\n}\nsetTimeout(fullscreen, 1000);"
    },
    "full screen by elementFromPoint(790, 750).click()": {
        "regPattForURL": "//^https:\\/\\/comic\\-days\\.com\\/episode\\//",
        "script": "var fullscreen = function(){\n  document.getElementsByClassName(\"viewer-btn-fullscreen js-viewer-btn-start-fullscreen js-hidden-on-disabled-fullscreen\")[0].click();\n}\nsetTimeout(fullscreen, 1000);"
    },
    "full screen by elementFromPoint(800，610).click()": {
        "regPattForURL": "/^https:\\/\\/shonenjumpplus\\.com\\/episode\\//\n//^https:\\/\\/tonarinoyj\\.jp\\/episode\\//\n/^https:\\/\\/comic\\-gardo\\.com\\/episode\\//",
        "script": "alert(\"(800，610)\");\nvar fullscreen = function(){\ncurclepoint(800，610);\ndocument.elementFromPoint(800，610)[0].click();\n}\nsetTimeout(fullscreen, 5000);"
    },
    "full screen by elementFromPoint(807, 699).click()": {
        "regPattForURL": "/^https:\\/\\/comic\\-zenon\\.com\\/episode\\//",
        "script": "var fullscreen = function(){\n  document.elementFromPoint(807, 699).click();\n  document.elementFromPoint(807, 699)[0].click();\n}\nsetTimeout(fullscreen, 1000);"
    },
    "full screen for 'viewer-btn-fullscreen js-viewer-btn-start-fullscreen js-hidden-on-disabled-fullscreen'": {
        "regPattForURL": "//^https:\\/\\/comic\\-days\\.com\\/episode\\//",
        "script": "var fullscreen = function(){\n  document.getElementsByClassName(\"viewer-btn-fullscreen js-viewer-btn-start-fullscreen js-hidden-on-disabled-fullscreen\")[0].click();\n\n\n}\nsetTimeout(fullscreen, 2000);"
    },
    "full screen for homepages such as shonenjumpplus": {
        "regPattForURL": "/^https:\\/\\/pocket\\.shonenmagazine\\.com\\/episode\\//\n//^https:\\/\\/comic\\-days\\.com\\/episode\\//\n/^https:\\/\\/shonenjumpplus\\.com\\/episode\\/\\d{20}/",
        "script": "var fullscreen = function(){\n  document.body.getElementsByClassName(\"viewer-btn-fullscreen js-viewer-btn-start-fullscreen js-hidden-on-disabled-fullscreen\")[0].click();\n}\nsetTimeout(fullscreen, 500);"
    },
    "full screen for mangacross": {
        "regPattForURL": "/^https:\\/\\/mangacross\\.jp\\/comics\\//",
        "script": "var fullscreen = function(){\n  document.getElementsByClassName(\"viewer-page__button viewer-page__button--green viewer-page__button--large viewer-page__button--read\")[0].click();\n  document.getElementsByClassName(\"viewer-button viewer-button--full\")[0].click();\n  document.body.style.zoom=`90%`;\n\n\n}\nsetTimeout(fullscreen, 1000);"
    },
    "full screen for 裏サンデー": {
        "regPattForURL": "/^https:\\/\\/urasunday\\.com\\/title\\//",
        "script": "var fullscreen = function(){\n  document.getElementById(\"btn-scale\").click();\n  document.documentElement.webkitRequestFullScreen();\n}\nsetTimeout(fullscreen, 500);"
    },
    "fullscreen for palcy": {
        "regPattForURL": "/^https:\\/\\/palcy\\.jp\\/comics\\//",
        "script": "var ab = function(){\n  if (document.getElementById('att')) {return;}\n\n  document.documentElement.webkitRequestFullScreen();\n  document.body.style.zoom='92%';\n\n  let pageWidth = 720;\n  let n = 0;\n  let arr = [-1];\n  let pages = document.getElementsByClassName(`pages`)[0].children\n  for (page of pages) {\n    arr.push(n++);\n  }\n  arr.push(-1);\n  if (arr.length % 2 == 1) {arr.shift();}\n  arr.unshift(0); //set curPage\n  console.log(arr);\n  \n  let att = document.createElement(\"div\");\n  att.id = \"att\";\n  att.style.cssText=\"visibility:visible;position:fixed;top:0px;left:0px;height:100%;width:100%;padding:4px;background:black;z-index:19998;\";\n  let text = document.createTextNode(arr.join(','));\n  att.appendChild(text);\n  document.body.appendChild(att);\n\n  let curPage = parseInt(arr[0]);\n  arr.shift();\n  viewSpreadPage(curPage, arr, true);\n\n\n  function viewSpreadPage (curPage, arr, vsb) {\n    if (!document.FullscreenElement) {document.documentElement.webkitRequestFullScreen();}\n    const pageCenter = parseInt(window.innerWidth / (parseInt(document.body.style.zoom ? document.body.style.zoom : \"100\") / 100) / 2);\n\n    let rightPage = pages[arr[curPage]];\n    if (rightPage) {\n        rightPage.scrollIntoView();\n        rightPage.style.cssText = \"visibility:visible;position:fixed;top:0px;z-index:19999;left:\" + pageCenter +\"px;\";\n        rightPage.style.display = (vsb) ? \"\" :\"none\";\n    }\n\n    let leftPage = pages[arr[curPage + 1]];;\n    if (leftPage) {\n        leftPage.scrollIntoView();\n        leftPage.style.cssText = \"visibility:visible;position:fixed;top:0px;z-index:19999;left:\" + (pageCenter - pageWidth) +\"px;\";\n        leftPage.style.display = (vsb) ? \"\" :\"none\";\n    }\n\n    document.getElementById('att').style.display = ((rightPage) || (leftPage)) ? \"\" : \"none\"\n    document.getElementsByClassName(\"banner-area\")[0].scrollIntoView();\n\n  }\n\n\n  document.body.addEventListener('keydown', event => {\n    let arr = document.getElementById('att').textContent.split(',');\n    let curPage = parseInt(arr[0]);\n    arr.shift();\n    //console.log(\"curPage : \" + curPage);\n\n    let dir = (event.key == 'p') * 99 + (event.key == 'ArrowLeft') - (event.key == 'ArrowRight');\n    if (dir == 0) {return;}\n\n    if ((arr[curPage + 1] == undefined) && (Math.sign(curPage) == dir)) {\n      // let episode_dir = (dir == 1) ? 'viewerbtn_toNext' : 'viewerbtn_toBack';\n      // let next_prev = document.getElementsByClassName(episode_dir);\n      // if  (next_prev != null) {\n      //   //window.open(next_prev[1].href, null, \"fullscreen=yes\")\n      //   //document.webkitExitFullscreen();\n      //   next_prev[1].children[0].click();\n      // }\n      return;\n    }\n\n    viewSpreadPage(curPage, arr, false);\n    \n    if (dir == 99) {\n      dir = 0;\n      \n      if (parseInt(arr[0]) == -1) {\n        arr.shift();\n      } else {\n        arr.unshift(-1);\n      }\n\n      if (parseInt(arr.slice(-1)[0]) == -1) {\n        arr.pop();\n      } else {\n        arr.push(-1);\n      }\n    }\n\n    curPage += (dir * 2);\n    viewSpreadPage(curPage, arr, true);\n    console.log(\"curPosition : \" + curPage, );\n    console.log(\"Page : \" + arr[curPage + 1] + \" , \" + arr[curPage]);\n    arr.unshift(curPage);\n\n    document.getElementById('att').textContent = arr.join(',');\n\n  });\n\n}\nsetTimeout(ab, 500);\nsetTimeout(fillscreen, 3000);\n\nfunction fillscreen() {\n    document.documentElement.webkitRequestFullScreen();\n}"
    },
    "fullscreen then push space": {
        "regPattForURL": "//^https:\\/\\/novelup\\.plus\\/story\\/\\d{9}\\/\\d{9}/\n//^https:\\/\\/ncode\\.syosetu\\.com\\/n\\d{4}[a-z]{2}\\/\\d+/\n//^https:\\/\\/toyokeizai\\.net\\/articles\\/\\-\\/\\d+\\?page=/",
        "script": "document.body.addEventListener('keydown', event => {\n  console.log(event.key);\n  if (event.key == ' ') {\n    if (!document.FullscreenElement) {document.documentElement.webkitRequestFullScreen();}\n  }\n});"
    },
    "hellowork": {
        "regPattForURL": "/^https:\\/\\/kyushoku\\.hellowork\\.mhlw\\.go\\.jp\\/kyushoku\\/GEAA1\\d{5}\\.do/",
        "script": "if (document.title != `ハローワークインターネットサービス - 求人情報検索・一覧`) {return;}\n  document.body.style.zoom=`95%`;\n\n  /*fontを変更*/\n  [...document.getElementsByClassName(\"flex flex_top_sa mb1\")]\n    .forEach(element => element.style.fontFamily =\"UD デジタル 教科書体 NK-B\")\n\n  /*利点を強調*/\n  const nes_label = document.getElementsByClassName(`nes_label any`);\n  for (element of nes_label) {\n    if (/background-color/.test(element.style.cssText))  {return;}\n    element.style.cssText += `background-color:#FFCBCB;`;\n  }\n\n  /*日付を強調*/\n  var date = new Date();\n  date.setDate(date.getDate() - 2);\n  const dayBeforeYesterdayDate = `YYYY年MM月DD日`.replace(/YYYY/, date.getFullYear())\n                                        .replace(/MM/, date.getMonth() + 1)\n                                        .replace(/DD/, date.getDate());  var date = new Date();\n  date.setDate(date.getDate() - 1);\n  const yesterdayDate = `YYYY年MM月DD日`.replace(/YYYY/, date.getFullYear())\n                                        .replace(/MM/, date.getMonth() + 1)\n                                        .replace(/DD/, date.getDate());\n  var date = new Date();\n  const todayDate = `YYYY年MM月DD日`.replace(/YYYY/, date.getFullYear())\n                                    .replace(/MM/, date.getMonth() + 1)\n                                    .replace(/DD/, date.getDate());\n  const fs13_ml01 = document.getElementsByClassName(`fs13 ml01`);\n  const baseStyle = `border:1px solid #0000ff;background-color:`;\n  for (element of fs13_ml01) {\n    if (element.innerText == dayBeforeYesterdayDate) {element.style.cssText += `${baseStyle}gold;`;}\n    if (element.innerText == yesterdayDate) {element.style.cssText += `${baseStyle}plum;`;}\n    if (element.innerText == todayDate) {element.style.cssText += `${baseStyle}aqua;`;}\n  }\n\n  /*件目／件数の追加*/\n  let item = 0; /*global*/\n  /*let dir = 0;\n  let scrollOffset = 5;*/\n  const headerHight = document.getElementById(`top_header`).clientHeight;\n  const kyujin = document.getElementsByClassName(`kyujin mt1 noborder`);\n  const kennsuu = document.getElementsByClassName(`flex align_end last_right mt05`)[0].innerText.split(/(件中 |～)/);\n  const kyujinTotal = kennsuu[0];\n  const kyujinStart = parseInt(kennsuu[2]);\n  for (let i = 0; i < kyujin.length; i++) {\n    let syokusyu = kyujin[i].getElementsByClassName(`m13 fs1`)[0].children[0];\n    syokusyu.innerHTML =`<span style=\"color:blue;font-weight:bold;border:3px solid #ff9933;\">(${kyujinStart + i}/${kyujinTotal})</span>　` + syokusyu.innerHTML;\n    /*kyujin[i].getElementsByClassName(`fb`)[0].innerText=`(${kyujinStart + i}/${kyujinTotal}) `;*/\n  }\n\n  scrollKyujin(kyujin[item]);\n\n  function scrollKyujin(element) {\n    /*setTimeout(() => {*/\n      element.scrollIntoView({block: `end`});\n      const ClientRectTop = element.getBoundingClientRect().top;\n      const scrollTop = window.pageYOffset + ClientRectTop - headerHight/* - (dir * scrollOffset)*/;\n      console.log(`scrollTop : ${scrollTop}`);\n      document.documentElement.scrollTop = scrollTop - 10; /*10px is no reason*/\n    /*}, 100);*/\n  }\n\n  document.body.addEventListener(`keydown`, event => {\n    /*dir = (event.key == `ArrowDown`) - (event.key == `ArrowUp`);*/\n    const dir = (event.key == `ArrowLeft`) - (event.key == `ArrowRight`);\n    if (dir == 0) {return;}\n\n    if ((typeof kyujin[item] == `undefined`) && (Math.sign(item) == dir)) {\n      const tagName = (dir == -1) ? `fwListNaviBtnPrev` : `fwListNaviBtnNext`;\n      document.getElementsByName(tagName)[0].click();\n    } else {\n      item += dir;\n      console.log(`item : ${item}`);\n      let flex_page_navi = document.getElementsByClassName(`flex page_navi`)\n      if (item == -1) {flex_page_navi[0].scrollIntoView({block: `center`});}\n      else if (item == kyujin.length) {flex_page_navi[1].scrollIntoView({block: `center`});}\n      else {scrollKyujin(kyujin[item]);}\n    }\n\n  });"
    },
    "kuragebunch View SpreadPage": {
        "regPattForURL": "//^https:\\/\\/kuragebunch\\.com\\/episode\\//",
        "script": "var ab = function(){\n\n  document.body.style.zoom='75%';\n\n  let att = document.createElement('div');\n  att.id = 'att';\n  att.style.cssText='visibility:visible;position:fixed;top:0px;left:0px;height:100%;width:100%;padding:4px;background:black;z-index:19998;';\n  let text = document.createTextNode('0');\n  att.appendChild(text);\n  document.body.appendChild(att);\n\n  viewSpreadPage(0, true);\n\n  function viewSpreadPage (curPage, vsb) {\n    let vsb = (vsb) ? 'visible' : 'hidden';\n    let pageCenter = parseInt(window.innerWidth / 2);\n\n    let pages = document.getElementsByClassName('page-area js-page-area');\n    let cssText =  'visibility:${vsb};position:fixed;top:0px;z-index:19999;';\n\n    let rightPage = pages[curPage];\n    if (rightPage) {\n        rightPage.scrollIntoView();\n        rightPage.style.cssText = '${cssText};left:${pageCenter}px;';\n    }\n    let leftPage = pages[curPage + 1];\n    if (leftPage) {\n        leftPage.scrollIntoView();\n        leftPage.style.cssText = '${cssText};left:${pageCenter - leftPage.children[0].width}px;';\n    }\n\n    document.getElementById('att').style.visibility = ((rightPage) || (leftPage)) ? 'visible' : 'hidden';\n    let next_prev = (Math.sign(curPage) > 0) ? 'next-link test-back-matter-next-link' : 'series-header-image-wrapper';\n    document.getElementsByClassName(next_prev)[0].scrollIntoView();\n\n  }\n\n\n  document.body.addEventListener('keydown', event => {\n    if (!document.FullscreenElement) {document.documentElement.webkitRequestFullScreen();}\n    let curPage = Number(document.getElementById('att').textContent);\n    console.log('curPage : ' + curPage);\n\n    let dir = (event.key == 'ArrowLeft') - (event.key == 'ArrowRight');\n    if (dir == 0) {return;}\n\n    let pages = document.getElementsByClassName('page-area js-page-area');\n\n    if ((pages[curPage + 1] == undefined) && (Math.sign(curPage) == dir)) {\n      if (dir == 1) {\n        next_prev = document.getElementsByClassName('next-link test-back-matter-next-link')[1].click();\n      }\n      return;\n    }\n\n    viewSpreadPage(curPage, false);\n    curPage += (dir * 2);\n    viewSpreadPage(curPage, true);\n    console.log('curRight : ${curPage}');\n    console.log('curLeft : ${curPage + 1}');\n\n    document.getElementById('att').textContent = curPage;\n\n  });\n\n}\nsetTimeout(ab, 500);\nsetTimeout(fillscreen, 3000);\n\nfunction fillscreen() {\n    document.documentElement.webkitRequestFullScreen();\n}"
    },
    "move at Bottom": {
        "regPattForURL": "/^https:\\/\\/president\\.jp\\/articles\\//\n/^https:\\/\\/gendai\\.ismedia\\.jp\\/articles\\//\n/^https:\\/\\/media\\.rakuten\\-sec\\.net\\/articles\\/\\-\\//\n/^https:\\/\\/www\\.alphapolis\\.co\\.jp\\/novel\\/.+\\/episode\\//\n/^https:\\/\\/novelup\\.plus\\/story\\/\\d{9}\\/\\d{9}/\n/^https:\\/\\/ncode\\.syosetu\\.com\\/n\\d{4}[a-z]{2}\\/\\d+/\n/^https:\\/\\/toyokeizai\\.net\\/articles\\/\\-\\/\\d+/",
        "script": "const regexp = /(次へ|次の話|>|＞|next|→|次ページ)/;\nlet NextArticleElements = Array.prototype.slice.call(document.links)\n  .filter(element => {return ('textContent' in element);})\n  .filter(element => {return element.textContent.match(regexp);})\n  .filter(element => {return element.hasAttribute(\"href\");})\n  .filter(element => {return element.href.match(regPattForURL);})\n\nif (NextArticleElements.length) {\n  nextArticle = NextArticleElements[0].href;\n  console.log(nextArticle);\n  if (nextArticle) {onScroll();}\n}\n\nfunction scriptAtBottom() {\n  location.href = nextArticle;\n}\n\ndocument.body.addEventListener('keydown', event => {\n  if (event.key != ' ') {return;}\n  if (!document.FullscreenElement) {document.documentElement.webkitRequestFullScreen();}\n});"
    },
    "niconico Appry Arrow Keys": {
        "regPattForURL": "//^https:\\/\\/seiga\\.nicovideo\\.jp\\/watch\\/mg\\d{6}/",
        "script": "document.body.style.zoom='92%';\ndocument.getElementById(\"CommonHeader\").style.display =\"none\";\ndocument.getElementById(\"ko_head_bar_min\").style.display =\"none\";\ndocument.getElementById(\"ko_controls\").style.display =\"none\";\n\ndocument.getElementById(\"page_0\").scrollIntoView();\n\nlet anchor = document.createElement('a');\nanchor.id = \"aaa\";\nanchor.style.display = 'none';\nlet text = document.createTextNode('0');\nanchor.appendChild(text);\ndocument.body.appendChild(anchor);\n\ndocument.body.addEventListener('keydown', event => {\n\n  let pageee = Number(document.getElementById('aaa').textContent);\n  let dir = (event.key == 'ArrowLeft') - (event.key == 'ArrowRight');\n  if (dir == 0) {return;}\n  if ((document.getElementById(\"page_\" + pageee) == null) && (Math.sign(pageee) == dir)) {\n    let episode_dir = (dir == 1) ? 'next' : 'prev';\n    let next_prev = document.getElementsByClassName(episode_dir)\n    if  (next_prev != null) {next_prev[1].click();}\n    return;\n  }\n\n  pageee += dir;\n  if (document.getElementById(\"page_\" + pageee) == null) {\n    pageee += dir;\n  }\n  console.log(pageee);\n\n  let page_ = document.getElementById(\"page_\" + pageee);\n  if (page_ == null) {\n    document.getElementById(\"ko_bookmark_player\").scrollIntoView();\n  } else {\n    page_.scrollIntoView();\n  }\n  document.getElementById('aaa').textContent = pageee;\n});"
    },
    "niconico Appry Arrow Keys(2)": {
        "regPattForURL": "/^https:\\/\\/seiga\\.nicovideo\\.jp\\/watch\\/mg\\d+/",
        "script": "var ab = function(){\n  console.log(`niconico Appry Arrow Keys(2)`);\n  if (document.getElementById('att')) {return;}\n\n  document.body.style.overflow = \"hidden\";\n  document.getElementById(\"CommonHeader\").style.display =\"none\";\n  document.getElementById(\"ko_head_bar_min\").style.display =\"none\";\n  document.getElementById(\"ko_controls\").style.display =\"none\";\n  document.getElementById(\"show_comment\").click();\n\n  let head = \"page_\";\n  let pageWidth = 650;\n  let pageCenter = parseInt(window.innerWidth / (parseInt(document.body.style.zoom ? document.body.style.zoom : \"100\") / 100) / 2);\n  let n = 0;\n  let arr = [-1];\n  let page = document.getElementById(head + n.toString());\n  const pageHeight = parseInt(page.children[0].style.height.replace(\"px\",\"\"));\n  document.body.style.zoom = Math.floor(1080 / pageHeight * 100) + '%';\n\n\n  while ((page) || (document.getElementById(head + (n + 1).toString()))) {\n    if (page) {\n      page.scrollIntoView();\n      arr.push(n);\n      let pageStyle = page.children[0].style;\n      if (parseInt(pageStyle.height.replace(\"px\",\"\")) < parseInt(pageStyle.width.replace(\"px\",\"\"))) {\n        arr.splice(arr.length - 1, 0, -1);\n        if (arr.length % 2 == 1) {arr.shift();}\n      }\n    }\n    page = document.getElementById(head + (++n).toString());\n  }\n  if (arr.length % 2 == 1) {arr.push(-1);}\n  arr.unshift(-2); //set curPage\n  console.log(arr);\n  \n  let att = document.createElement(\"div\");\n  att.id = \"att\";\n  att.style.cssText=\"visibility:visible;position:fixed;top:0px;left:0px;height:100%;width:100%;padding:4px;background:black;z-index:19998;\";\n  let text = document.createTextNode(arr.join(','));\n  att.appendChild(text);\n  document.body.appendChild(att);\n\n  let curPage = parseInt(arr[0]);\n  arr.shift();\n  viewSpreadPage(curPage, arr, true);\n\n\n  function viewSpreadPage (curPage, arr, vsb) {\n    let pageCenter = parseInt(window.innerWidth / (parseInt(document.body.style.zoom ? document.body.style.zoom : \"100\") / 100) / 2);\n    let cssText = `visibility:visible;position:fixed;top:0px;z-index:19999;`\n\n    let rightPage = document.getElementById(head  + arr[curPage]);\n    if (rightPage) {\n        rightPage.scrollIntoView();\n        rightPage.style.cssText = `${cssText};left:${pageCenter}px;`;\n        rightPage.style.display = (vsb) ? \"\" :\"none\";\n    }\n\n    let leftPage = document.getElementById(head  + arr[curPage + 1]);\n    if (leftPage) {\n        leftPage.scrollIntoView();\n        leftPage.style.cssText = `${cssText};left:${(pageCenter - pageWidth)}px;`;\n        leftPage.style.display = (vsb) ? \"\" :\"none\";\n    }\n\n    document.getElementById('att').style.display = ((rightPage) || (leftPage)) ? \"\" : \"none\"\n    document.body.style.overflow = ((rightPage) || (leftPage)) ? \"hidden\" : \"\";\n    document.getElementById(\"ko_bookmark_player\").scrollIntoView();\n\n  }\n\n\n  document.body.addEventListener('keydown', event => {\n    let arr = document.getElementById('att').textContent.split(',');\n    let curPage = parseInt(arr[0]);\n    arr.shift();\n    //console.log(\"curPage : \" + curPage);\n\n    let dir = (event.key == 'p') * 99 + (event.key == 'ArrowLeft') - (event.key == 'ArrowRight');\n    if (dir == 0) {return;}\n\n    if (!document.FullscreenElement) {document.documentElement.webkitRequestFullScreen();}\n\n    if ((arr[curPage + 1] == undefined) && (Math.sign(curPage) == dir)) {\n      let episode_dir = (dir == 1) ? 'next' : 'prev';\n      let next_prev = document.getElementsByClassName(episode_dir);\n      if  (next_prev != null) {\n        //window.open(next_prev[1].href, null, \"fullscreen=yes\")\n        //document.webkitExitFullscreen();\n        next_prev[1].click();\n      }\n      return;\n    }\n\n    viewSpreadPage(curPage, arr, false);\n    \n    if (dir == 99) {\n      dir = 0;\n      \n      if (parseInt(arr[0]) == -1) {\n        arr.shift();\n      } else {\n        arr.unshift(-1);\n      }\n\n      if (parseInt(arr.slice(-1)[0]) == -1) {\n        arr.pop();\n      } else {\n        arr.push(-1);\n      }\n    }\n\n    curPage += (dir * 2);\n    viewSpreadPage(curPage, arr, true);\n    console.log(\"curPosition : \" + curPage, );\n    console.log(\"Page : \" + arr[curPage + 1] + \" , \" + arr[curPage]);\n    arr.unshift(curPage);\n\n    document.getElementById('att').textContent = arr.join(',');\n\n  });\n\n}\nsetTimeout(ab, 500);\nsetTimeout(fillscreen, 5000);\n\nfunction fillscreen() {\n    document.documentElement.webkitRequestFullScreen();\n}"
    },
    "niconico Appry Arrow Keys(3)": {
        "regPattForURL": "//^https:\\/\\/seiga\\.nicovideo\\.jp\\/watch\\/mg\\d+/",
        "script": "var ab = function(){\n  if (document.getElementById('att')) {return;}\n\n  document.body.style.zoom='92%';\n  document.getElementById(`CommonHeader`).style.display =`none`;\n  document.getElementById(`ko_head_bar_min`).style.display =`none`;\n  document.getElementById(`ko_controls`).style.display =`none`;\n\n  let att = document.createElement(`div`);\n  att.id = `att`;\n  att.style.cssText=`visibility:visible;position:fixed;top:0px;left:0px;height:100%;width:100%;padding:4px;background:black;z-index:19998;`;\n  document.body.appendChild(att);\n\n\n  \n\n\n\n\n  let curPage = 0;\n  // const OriginalPages = document.getElementsByClassName(`page `);\n  const OriginalPages = document.getElementById(`page_contents`).children;\n  console.log(OriginalPages.length);\n  const cssText = `visibility:visible;position:fixed;top:0px;z-index:19999;`;\n  const pageCenter = parseInt(window.innerWidth / (parseInt(document.body.style.zoom ? document.body.style.zoom : \"100\") / 100) / 2);\n  let pageIds = [];\n  for (let OriginalPage of OriginalPages) {\n    // if (/^page_/.test(OriginalPage.id)) {\n      // OriginalPage.style.cssText = \n      //   `${cssText};left:${(pageCenter - (OriginalPage.children[0].style.width.replace(`px`,``) / 2))}px;`;\n      pageIds.push(OriginalPage.id);\n      // OriginalPage.scrollIntoView();\n      // OriginalPage.style.display = `none`;\n    // }\n  }\n  console.log(pageIds.length);\n\n  document.getElementById(`ko_bookmark_player`).scrollIntoView();\n  setTimeout(viewSinglePage(curPage, true), 500);\n\n  function viewSinglePage (curPage, display) {\n    const pageId = pageIds[curPage];\n    if (pageId) {\n      // if (display) {console.log(page);};\n      const page = document.getElementById(pageId);\n      page.scrollIntoView();\n      page.style.cssText = `${cssText};left:${(pageCenter - (page.children[0].style.width.replace(`px`,``) / 2))}px;`;\n      page.style.display = (display) ? `` :`none`;\n    }\n    document.getElementById('att').style.display = (pageId) ? `` : `none`\n    document.getElementById(`ko_bookmark_player`).scrollIntoView();\n\n  }\n\n  document.body.addEventListener('mouseup', event => {\n    const innerWidth = window.innerWidth;\n    const clientX = event.clientX;\n    let dir = (clientX < innerWidth * 0.3) - (clientX > innerWidth * 0.7);\n    if (dir == 0) {return;}\n    movePage(dir);\n    \n  });\n\n  document.body.addEventListener('keydown', event => {\n    let dir = (event.key == 'ArrowLeft') - (event.key == 'ArrowRight');\n    if (dir == 0) {return;}\n    movePage(dir);\n\n  });\n\n  function movePage(dir) {\n    if (!document.FullscreenElement) {document.documentElement.webkitRequestFullScreen();}\n    if ((pageIds[curPage] == undefined) && (Math.sign(curPage) == dir)) {\n      let episode_dir = (dir == 1) ? 'next' : 'prev';\n      let next_prev = document.getElementsByClassName(episode_dir);\n      if  (next_prev != null) {\n        next_prev[1].click();\n      }\n      return;\n    }\n\n      viewSinglePage(curPage, false);\n      curPage += dir;\n      viewSinglePage(curPage, true);\n      console.log(`curPage : ${curPage}`);\n\n  }\n\n}\n\n  setTimeout(ab, 500);\n  setTimeout(fs, 3000);\n\nfunction fs() {\n  document.documentElement.webkitRequestFullScreen();\n}"
    },
    "rakugakidou": {
        "regPattForURL": "/^https:\\/\\/www\\.rakugakidou\\.net\\//",
        "script": "var fullscreen = function(){\n  if (window.pageYOffset == 0) {\n  document.getElementsByName(new Date().toJSON().slice(0,10).replace(/-/g,''))[0].scrollIntoView();\n  }}\nsetTimeout(fullscreen, 1500);"
    },
    "surugayaHP next page": {
        "regPattForURL": "//^https:\\/\\/www.suruga-ya.jp\\/pcmypage\\/action_favorite_list\\/detail\\/\\d{5}\\?page=/",
        "script": "const title= 'Go to next page';\nvar nextArticle = '';\nconsole.log(\"matchedPartInURL : \" + matchedPartInURL);\nconst dlinks = document.links;\nfor (var i = dlinks.length-1; i >= 0; i--){\n  var dlink = dlinks[i];\n  var dlinkPath = dlink.href;\n  console.log(\"dlinkPath.match : \" + dlinkPath.match(regPattForURL));\n  if(('title' in dlink ) && (dlink.title.search(title) == 0) &&\n    (dlinkPath.match(regPattForURL) == matchedPartInURL)) {\n    console.log(\"dlinkPath : \" + dlinkPath);\n    nextArticle = dlinkPath;\n    onScroll();\n    break;\n  }\n}\nfunction scriptAtBottom() {\n  location.href = nextArticle;\n}"
    },
    "tonarinoyj jump to next": {
        "regPattForURL": "/^https:\\/\\/tonarinoyj\\.jp\\/episode\\//",
        "script": "document.body.addEventListener('keydown', event => {\n\n  if (event.key == 'n') {\n    let nextLink = document.getElementsByClassName(\"next-link test-back-matter-next-link\");\n    let nlhref = nextLink[0].href;\n    window.open(nlhref);\n\n  }\n});"
    },
    "youngaceup Appry Arrow Keys": {
        "regPattForURL": "/^https:\\/\\/web\\-ace\\.jp\\/youngaceup\\/contents\\/\\d{7}\\/episode\\//",
        "script": "var ab = function(){\n  if (document.getElementById('att')) {return;}\n\n  document.body.style.overflow = \"hidden\";\n  document.body.style.zoom='95%';\n  document.documentElement.webkitRequestFullScreen();\n\n  let head = \"img\";\n  let pageWidth = 800;\n  let n = 0;\n  let arr = [-1];\n  // let page = document.getElementById(head + n.toString());\n  let pages = document.getElementsByClassName(`row clearfix`);\n  for (page of pages) {\n    if (page.hasAttribute(`ID`)) {arr.push(n++);}\n  }\n  // let page = pages[n];\n  // while ((page) || (document.getElementById(head + (n + 1).toString()))) {\n  //   console.log(`page : ${n}`);\n  //   if (page) {\n  //     arr.push(n);\n  //     let pageStyle = page.children[0].children[0].children[0].style;\n  //     if (parseInt(pageStyle.height.replace(\"px\",\"\")) < parseInt(pageStyle.width.replace(\"px\",\"\"))) {\n  //       arr.splice(arr.length - 1, 0, -1);\n  //       if (arr.length % 2 == 1) {arr.unshift(-1);}\n  //     }\n  //   }\n  //   page = document.getElementById(head + (++n).toString());\n  //   console.log(`page : ${(page)}`);\n  // }\n  // arr.pop();\n  //arr.splice(4, 0, -1);\n  arr.push(-1);\n  //if (arr.length % 2 == 1) {arr.splice(4, 0, -1);}\n  arr.unshift(0); //set curPage\n  console.log(arr);\n  \n  let att = document.createElement(\"div\");\n  att.id = \"att\";\n  att.style.cssText=\"visibility:visible;position:fixed;top:0px;left:0px;height:100%;width:100%;padding:4px;background:black;z-index:19998;\";\n  let text = document.createTextNode(arr.join(','));\n  att.appendChild(text);\n  document.body.appendChild(att);\n\n  let curPage = parseInt(arr[0]);\n  arr.shift();\n  viewSpreadPage(curPage, arr, true);\n\n\n  function viewSpreadPage (curPage, arr, vsb) {\n  if (!document.FullscreenElement) {document.documentElement.webkitRequestFullScreen();}\n    const pageCenter = parseInt(window.innerWidth / (parseInt(document.body.style.zoom ? document.body.style.zoom : \"100\") / 100) / 2);\n    let cssText = `visibility:visible;position:fixed;top:-23px;z-index:19999;`\n\n    let rightPage = document.getElementById(head  + arr[curPage]);\n    if (rightPage) {\n        rightPage.scrollIntoView();\n        rightPage.style.cssText = `${cssText};left:${pageCenter}px;`;\n        rightPage.style.display = (vsb) ? \"\" :\"none\";\n    }\n\n    let leftPage = document.getElementById(head  + arr[curPage + 1]);\n    if (leftPage) {\n        leftPage.scrollIntoView();\n        leftPage.style.cssText = `${cssText};left:${(pageCenter - pageWidth)}px;`;\n        leftPage.style.display = (vsb) ? \"\" :\"none\";\n    }\n\n    document.getElementById('att').style.display = ((rightPage) || (leftPage)) ? \"\" : \"none\"\n    document.getElementsByClassName(\"viewerbtn\")[1].scrollIntoView();\n\n  }\n\n\n  document.body.addEventListener('keydown', event => {\n    let arr = document.getElementById('att').textContent.split(',');\n    let curPage = parseInt(arr[0]);\n    arr.shift();\n    //console.log(\"curPage : \" + curPage);\n\n    let dir = (event.key == 'p') * 99 + (event.key == 'ArrowLeft') - (event.key == 'ArrowRight');\n    if (dir == 0) {return;}\n\n    if ((arr[curPage + 1] == undefined) && (Math.sign(curPage) == dir)) {\n      let episode_dir = (dir == 1) ? 'viewerbtn_toNext' : 'viewerbtn_toBack';\n      let next_prev = document.getElementsByClassName(episode_dir);\n      if  (next_prev != null) {\n        //window.open(next_prev[1].href, null, \"fullscreen=yes\")\n        //document.webkitExitFullscreen();\n        next_prev[1].children[0].click();\n      }\n      return;\n    }\n\n    viewSpreadPage(curPage, arr, false);\n    \n    if (dir == 99) {\n      dir = 0;\n      \n      if (parseInt(arr[0]) == -1) {\n        arr.shift();\n      } else {\n        arr.unshift(-1);\n      }\n\n      if (parseInt(arr.slice(-1)[0]) == -1) {\n        arr.pop();\n      } else {\n        arr.push(-1);\n      }\n    }\n\n    curPage += (dir * 2);\n    viewSpreadPage(curPage, arr, true);\n    console.log(\"curPosition : \" + curPage, );\n    console.log(\"Page : \" + arr[curPage + 1] + \" , \" + arr[curPage]);\n    arr.unshift(curPage);\n\n    document.getElementById('att').textContent = arr.join(',');\n\n  });\n\n}\nsetTimeout(ab, 500);\nsetTimeout(fillscreen, 3000);\n\nfunction fillscreen() {\n    document.documentElement.webkitRequestFullScreen();\n}"
    },
    "このマンガがすごい Apply Arrow keys": {
        "regPattForURL": "/^https:\\/\\/tkj.jp\\/ebook\\/read\\/cd\\//",
        "script": "keyEvent  = (event => {\n  if (event.key == 'ArrowLeft') {\n    document.getElementById(\"GestureLeft\").children[0].click()\n  }\n  if (event.key == 'ArrowRight') {\n    document.getElementById(\"GestureRight\").children[0].click();\n  }\n});\ndocument.getElementById(\"ControlArea\").style.display =\"none\";\ndocument.body.removeEventListener('keyup', keyEvent);\ndocument.body.addEventListener('keyup', keyEvent);"
    },
    "しおり｜Gitの基礎": {
        "regPattForURL": "/^https:\\/\\/git\\-scm\\.com\\/book\\/ja\\/v2/",
        "script": "//URLの最後の部分が、遷移時に変化するパターンの場合に有効\n//呼び出しブックマークの設定は、parentPageと同じに\nconst parentPage = `https://git-scm.com/book/ja/v2`;\nconst bookmarkPage = localStorage.getItem('bookmarkPage');\nconsole.log(decodeURI(bookmarkPage));\n\nif (location.href != parentPage) {localStorage.setItem('bookmarkPage', location.href)}\nelse if (bookmarkPage != null) { location.href = bookmarkPage; }"
    },
    "働かないふたり": {
        "regPattForURL": "/^https:\\/\\/kuragebunch\\.com\\/episode\\//",
        "script": "var ab = function(){\n  if (!(/^働かないふたり/.test(document.getElementsByTagName(`title`)[0].innerText))) {return;}\n\n  document.body.style.overflow = \"hidden\";\n\n  document.body.style.zoom='75%';\n  let pageWidth = 844;\n  let pageCenter = parseInt(window.innerWidth / (parseInt(document.body.style.zoom ? document.body.style.zoom : \"100\") / 100) / 2);\n\n  // let att = document.getElementById(`att`);\n  // if (att) {att.style.visibility = `visible`;}\n  // else {\n    console.log(document.getElementById(`att`));\n    let att = document.createElement(`div`);\n    att.id = `att`;\n    att.style.cssText=`visibility:visible;position:fixed;top:0px;left:0px;\n                      height:100%;width:100%;padding:4px;background:black;z-index:19998;`;\n    document.body.appendChild(att);\n  // }\n\n  let curPage = 0;\n  viewPage(0);\n\n  function viewPage (dir) {\n    if (!document.FullscreenElement) {document.documentElement.webkitRequestFullScreen();}\n\n    // do {\n      var pages = document.getElementsByTagName(`canvas`);\n      console.log(pages);\n    // } while (pages.length == 0)\n\n    if ((pages[curPage] != undefined) || (pages[curPage + dir] != undefined)) {curPage += dir;}\n    console.log(`curPage : ${curPage}`);\n    // console.log(pages[curPage]);\n\n    let cssText = `position:fixed;top:0px;left:${pageCenter - (pageWidth / 2)}px;z-index:19999;`;\n    for (let i = 0; i < pages.length; i++) {\n      pages[i].scrollIntoView();\n      pages[i].style.cssText = `visibility:${(i == curPage) ? `visible` : `hidden`};${cssText}`;\n    }\n\n    document.getElementById(`att`).style.visibility = (pages[curPage] != undefined) ? `visible` : `hidden`;\n    document.getElementsByClassName(`series-header-image-wrapper`)[0].scrollIntoView();\n\n  }\n\n  document.body.addEventListener(`keydown`, event => {\n\n    let dir = (event.key == `ArrowLeft`) - (event.key == `ArrowRight`);\n    if (dir == 0) {return;}\n\n    let pages = document.getElementsByTagName(`canvas`);\n    if ((pages[curPage] == undefined) && (Math.sign(curPage) == dir)) {\n      let next_prevClass = (dir == 1) ? `next-link test-back-matter-next-link` : `previous-link`;\n      let next_prev = document.getElementsByClassName(next_prevClass)[0];\n      if  (next_prev) {location.href = next_prev.href;}\n      return;\n    }\n\n    viewPage(dir);\n\n  });\n\n}\n\n(window.onload = function() {\n  setTimeout(ab, 1000);\n  setTimeout(fillscreen, 3000);\n})\n\nfunction fillscreen() {\n    document.documentElement.webkitRequestFullScreen();\n    document.getElementsByClassName(`viewer-btn-fullscreen js-viewer-btn-start-fullscreen js-hidden-on-disabled-fullscreen`)[0].click();\n}"
    },
    "働かないふたり Appry Arrow Keys": {
        "regPattForURL": "//^https:\\/\\/kuragebunch\\.com\\/episode\\//",
        "script": "var ab = function(){\n  //if (document.getElementById('att')) {document.getElementById('att').remove();}\n  if (!(/^働かないふたり/.test(document.getElementsByTagName(\"title\")[0].innerText))) {return;}\n\n  document.body.style.zoom='75%';\n  let pageWidth = 844;\n  let pageCenter = parseInt(window.innerWidth / (parseInt(document.body.style.zoom ? document.body.style.zoom : \"100\") / 100) / 2);\n\n  let pages = document.getElementsByTagName(\"canvas\");\n  console.log(pages);\n\n  let n = 0;\n  let att = document.createElement(`div`);\n  att.id = `att`;\n  att.style.cssText=`visibility:visible;position:fixed;top:0px;left:0px;height:100%;width:100%;padding:4px;background:black;z-index:19998;`;\n  let text = document.createTextNode(n);\n  att.appendChild(text);\n  document.body.appendChild(att);\n\n  viewSpreadPage(n, true);\n\n  function viewSpreadPage (curPage, isVsb) {\n    if (isVsb) {console.log(`curPage : ${curPage}`);}\n    let visibility = (isVsb) ? `visible` : `hidden`;\n    let cssText =  `visibility:${visibility};position:fixed;top:0px;width:${pageWidth}px;z-index:19999;`;\n\n    let rightPage = pages[curPage];\n    if (rightPage) {\n      rightPage.scrollIntoView();\n      rightPage.style.cssText = `${cssText};left:${pageCenter}px;`;\n    }\n\n    let leftPage = pages[curPage + 1];\n    if (leftPage) {\n      leftPage.scrollIntoView();\n      leftPage.style.cssText = `${cssText};left:${pageCenter - pageWidth}px;`;\n    }\n    document.getElementById(`att`).style.visibility = ((rightPage) || (leftPage)) ? `visible` : `hidden`;\n    document.getElementsByClassName(`series-header-image-wrapper`)[0].scrollIntoView();\n\n  }\n\n\n  document.body.addEventListener(`keydown`, event => {\n    let curPage = parseInt(document.getElementById(`att`).textContent);\n\n    let dir = (event.key == `ArrowLeft`) - (event.key == `ArrowRight`);\n    if (dir == 0) {return;}\n\n    if ((pages[curPage + 1] == undefined) && (Math.sign(curPage) == dir)) {\n      let next_prevClass = (dir == 1) ? `next-link test-back-matter-next-link` : `previous-link`;\n      let next_prev = document.getElementsByClassName(next_prevClass)[0];\n      if  (next_prev) {location.href = next_prev.href;}\n      return;\n    }\n\n    viewSpreadPage(curPage, false);\n    curPage += (dir * 2);\n    viewSpreadPage(curPage, true);\n    // console.log(`curPage : ${curPage + 1} , ${curPage}`);\n\n    document.getElementById(`att`).textContent = curPage;\n\n  });\n\n}\n\n(window.onload = function() {\n  setTimeout(ab, 1000);\n  setTimeout(fillscreen, 3000);\n})();\n\nfunction fillscreen() {\n    document.documentElement.webkitRequestFullScreen();\n    document.getElementsByClassName(\"viewer-btn-fullscreen js-viewer-btn-start-fullscreen js-hidden-on-disabled-fullscreen\")[0].click();\n}"
    },
    "駿河屋｜お気に入り": {
        "regPattForURL": "/^https:\\/\\/www\\.suruga\\-ya\\.jp\\/pcmypage\\/action_favorite_list\\/detail\\//",
        "script": "var source_elements = document.getElementsByClassName(`item-list`);\nif (source_elements.length < 2 ) {\n  var target_element = document.getElementsByClassName(`favorite-action-wrapper`)[0];\n  target_element.before(source_elements[0].cloneNode(true));\n}"
    }
}